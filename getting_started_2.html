<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title></title>

    <!-- plugin styles -->
    <link rel="stylesheet" type="text/css" href="stylesheets/highlight-github.css" />

    <!-- guides styles -->
    <link rel="stylesheet" type="text/css" href="stylesheets/reset.css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/main.css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <link rel="stylesheet" type="text/css" href="stylesheets/guides.css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/overrides.style.css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/overrides.print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">

    <meta name="generator" content="DocPad v6.79.0" />
    
  </head>

  <body class="guide">

    <header role="banner">
      <div class="container">
        <h1 id="logo">
          <a href="http://www.sproutcore.com"><img src="images/header/logo.png" alt="SproutCore" /></a>
        </h1>
        <nav role="navigation">
          <ul>
            <li><a href="http://sproutcore.com/about/">About</a></li>
            <li><a href="http://showcase.sproutcore.com">Showcase</a></li>
            <li class="active"><a href="http://guides.sproutcore.com">Guides</a></li>
            <li><a href="http://docs.sproutcore.com">Docs</a></li>
            <li><a href="http://sproutcore.com/community/">Community</a></li>
            <li><a href="http://blog.sproutcore.com">Blog</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <div id="feature">
      <div class="wrapper">
        <div class="feature_header">
          <a href="/"><img src="images/graphics/guides.png"></a>
          <h2><a href="/">SproutCore Guides</a></h2>
          <p>These guides are designed to help you write and perfect your code.</p>
        </div>
        <div class="feature_sidebar">
          <a href="index.html" id="guidesMenu">
            Guides Index <span id="guidesArrow">&#9656;</span>
          </a>
          <div id="guides" class="clearfix" style="display: none;">
            <a href="index.html" class="guidesMenu">
              Guides Index <span class="guidesArrow">&#9662;</span>
            </a>

            <hr style="clear:both;">

            <dl class='L'><dt>Start Here</dt>
<dd><a href='/getting_started.html'>Getting Started: Part 1</a></dd>
<dd><a href='/getting_started_2.html'>Getting Started: Part 2</a></dd>
<dd><a href='/getting_started_3.html'>Getting Started: Part 3</a></dd>
<dd><a href='/core_concepts_sc_object.html'>Classes and SC.Object</a></dd>
<dd><a href='/core_concepts_kvo.html'>Computed Properties, Observers and Bindings</a></dd><dt>Views</dt>
<dd><a href='/views.html'>Core View Concepts</a></dd><dt>Models</dt>
<dd><a href='/records.html'>SproutCore Records</a></dd>
<dd><a href='/fixtures.html'>Using Fixtures</a></dd><dt>Theming</dt>
<dd><a href='/chance.html'>Using Chance, SproutCore's CSS Framework</a></dd>
<dd><a href='/theming_app.html'>Theming Your App</a></dd></dl><dl class='R'><dt>Testing</dt>
<dd><a href='/adding_unit_test.html'>Adding a Unit Test</a></dd>
<dd><a href='/unit_test_framework.html'>Unit Testing</a></dd>
<dd><a href='/writing_unit_tests.html'>Writing Unit Tests</a></dd>
<dd><a href='/running_unit_tests.html'>Running Unit Tests</a></dd>
<dd><a href='/todos_tdd.html'>SproutCore Development Using TDD</a></dd><dt>Extras</dt>
<dd><a href='/build_tools.html'>SproutCore's Build Tools</a></dd>
<dd><a href='/run_loop.html'>The Run Loop</a></dd>
<dd><a href='/enumerables.html'>Enumerables</a></dd><dt>Contributing to SproutCore</dt>
<dd><a href='/style_guide.html'>Javascript Guidelines</a></dd>
<dd><a href='/commit_code.html'>Committer Guidelines</a></dd>
<dd><a href='/documentation_guidelines.html'>Documentation Guidelines</a></dd>
<dd><a href='/contribute.html'>Contributing Guides</a></dd><dt>Thanks</dt>
<dd><a href='/credits.html'>Credits</a></dd></dl>
          </div>
        </div>
      </div>
    </div>

    <div id="container">
      <div class="wrapper">
        <div id="mainCol">
          <div class='headerSection'>
            
              <h2>Getting Started: Part 2</h2>
            

            
              <p>In Part 1, we walked through the basic elements of a SproutCore app. In Part 2 we introduce some of the guiding concepts behind a SproutCore application such as views, controllers, and statecharts.</p>
            

            
              <ul>
                
                  <li>Learn about statecharts and how they can improve your application.</li>
                
                  <li>Learn about views and how they should handle events.</li>
                
                  <li>Learn how to separate views in individual files with the use of <em>sc_require()</em>.</li>
                
                  <li>Learn how to pass events to the application's statechart.</li>
                
              </ul>
            
          </div>

          <h3 id='-Why-Statecharts--'>1 -  Why Statecharts?
</h3>


<p>If you&#39;ve ever built any sizable application, or even small ones for that matter, you&#39;ve
probably run into a bug that was caused by some piece of logic that didn&#39;t work quite as
you intended.</p>
<p>Perhaps it was an if statement with an invalid test expression, or some piece of code that changed
a variable that you weren&#39;t expecting to be updated. Some bugs happen because you don&#39;t understand
how your app would react under a particular set of conditions.</p>
<p>Statecharts help reduce uncertainty, by defining more explicitly what can and cannot happen
within your application. You think of discrete states, such as &quot;showing login panel.&quot; You think
of transitions between states. For example, you would think about what should happen as the login
panel is shown, what could happen while it is showing, and what should happen when it is taken down.</p>
<h3 id='-What-is-a-Statechart--'>2 -  What is a Statechart?
</h3>


<p>A statechart is a simple nested construct that helps you better organize your code into
logical hierarchical states. Your applications will have many states,
and each state may have many substates within it. Each state can respond to a certain
set of actions, the name for events associated with a statechart.</p>
<div class='note'><p> The term "event" is more generic than the term "action." We can speak of the event
system, generally, that includes normal web events like **mouseDown** along with actions in
the statechart. A statechart action is a type of event.

</p></div>

<p>Consider a SproutCore application for mapping, with the following top-level states, substates, and actions:</p>
<ol>
<li>LOADING<ul>
<li><em>loadingFinished</em></li>
</ul>
</li>
<li>LOADED<ul>
<li><em>viewTermsOfService</em></li>
<li><em>viewPrivacyPolicy</em></li>
<li>LOGGED_OUT<ul>
<li><em>login</em></li>
</ul>
</li>
<li>LOGGED_IN<ul>
<li><em>createBasemap</em></li>
<li><em>zoomMapView</em></li>
<li><em>showPointData</em></li>
<li><em>other mapping actions...</em></li>
</ul>
</li>
</ul>
</li>
</ol>
<p>In the list above, the states are in ALL-CAPS, the actions are in italics.</p>
<div class='info'><p> The Getting Started Todos applications use ALL_CAPS for state names, for the sake of continuity.
However, states are standard SC objects and can follow any naming convention you want.  Many developers
prefer CamelCase (i.e., MyApp.LoggedInState) while others prefer namespacing their states (i.e.,
MyApp.States.LoggedIn).  Some prefer verb-style over noun-style state names. Whatever method you
choose is fine, just be consistent, so you, and other developers, can more easily follow your code.

</p></div>



<div class='note'><p> The term state is generic: you can use state to refer to states and substates. When you use the term substate,
the reference is more specific, and is relative to a parent state.

</p></div>



<h4 id='-Decoding-the-Statechart-'>2.1 -  Decoding the Statechart
</h4>


<p>In our mapping example here, the application can be in one of the two top level states: LOADING or LOADED. If
it is in one of these states, it cannot be in the other. When it is in the LOADING state, the only available
action is the <em>loadingFinished</em> action. The statechart/application should not respond to any other events.
Once control moves into the LOADED state, it can move to two additional states, substates of the LOADED
state: LOGGED_OUT or LOGGED_IN. Again, the program can only be in one at a given time, so when the user is
&quot;logged out&quot;, after the application has loaded, the only available action is the <em>login</em> action.</p>
<p>However, notice that the <em>viewTermsOfService</em> action and the <em>viewPrivacyPolicy</em> action are both available in
the LOADED state. This means that regardless of whether the program is in the LOGGED_OUT state or the LOGGED_IN
state, the user should be allowed to view the terms of service or the privacy policy.</p>
<p>Once the user has authenticated and logged in, they have various actions available in the mapping system.
Imagine a map user interface that appears, with buttons in a dashboard, with live clickable elements on the map, etc.
The example actions given above, <em>createBasemap</em>, <em>zoomMapView</em>, and <em>showPointData</em> are just a sample of what
would be many actions tied to user interface elements.</p>
<div class='note'><p> States are used in all parts of an application, not just to user interface parts. A large behind-the-scenes
data import system in our mapping example could be programmed using statecharts.

</p></div>



<h4 id='-How-Statecharts-Help-'>2.2 -  How Statecharts Help
</h4>


<p>An application only responds to certain actions at certain times. This makes it
much easier to verify that an app is working properly, by ensuring that events are handled exactly when they
need to be handled. Furthermore, if, say, a bug in the design of the user interface allows an action to happen
when it shouldn&#39;t (like allowing some action when the user is logged out), the application itself may maintain
a consistent state and continue to operate. Programming with statecharts can help isolate parts of the system.</p>
<p>SproutCore generates statechart-based applications by default.
The basis of the statechart is formed by the <em>statechart.js</em> file in the application root directory, and in the
<em>states</em> directory <em>ready</em>state.js_:</p>
<ul>
<li><em>statechart.js</em>, and</li>
<li><em>states/ready</em>state.js_</li>
</ul>
<p>The <em>statechart.js</em> file describes your statechart and the initial state that should be entered when the
statechart is first initialized. Open it, and you should see the following:</p>
<pre class="highlighted"><div class="code_container"><code class="hljs undefined"><span class='comment'><div class='filename'>apps/TodosOne/statechart.js</div></span>
TodosOne.statechart = SC.Statechart.create({

  initialState: 'readyState',

  readyState: SC.State.plugin('TodosOne.ReadyState'),
  // someOtherState: SC.State.plugin('TodosOne.SomeOtherState')

});</code></div></pre>
<div class='note'><p> This example uses CamelCase state names.

</p></div>

<p>Note the use of SC.Statechart.create(), instead of SC.Statechart.extend().  Views and models generally
use .extend() when you are defining them, because elsewhere in the system, instantiation of objects happens.
Controllers and the statechart use .create() because we need to directly create objects to work with.</p>
<p>Also note the use of the SC.State.plugin() function. This allows you to put your states in separate files in a
states directory.</p>
<p>Open <em>states/ready</em>state.js_ and take a look:</p>
<pre class="highlighted"><div class="code_container"><code class="hljs undefined"><span class='comment'><div class='filename'>apps/TodosOne/states/ready_state.js</div></span>
TodosOne.ReadyState = SC.State.extend({

  enterState: function() {
    TodosOne.getPath('mainPage.mainPane').append();
  },

  exitState: function() {
    TodosOne.getPath('mainPage.mainPane').remove();
  }

});</code></div></pre>
<p>States may define an <em>enterState()</em> function to prepare for the new state, and an <em>exitState()</em> function to
clean up after themselves. For user interface programming, these functions are where you show and hide
panels, as you see here, with the use of .append() to show and .remove() to hide.</p>
<p>The TodosOne.ReadyState is the only state in this &quot;Hello World&quot; app, so it only appends the main
page&#39;s main pane.</p>
<h3 id='-Where-Views-Fit-In-'>3 -  Where Views Fit In
</h3>


<p>We&#39;ve covered statecharts, so you know a little bit about how they work. Let&#39;s talk about how statecharts
can help organize views and make your code super-clean.</p>
<p>The <em>resources/main</em>page.js_ file defines the main user interface of your application.</p>
<p>Edit the file to add a second child view, labelView2, taking care to add labelView2 to the
childViews array of view references, which uses the &#39;space delimited strings&#39;.w() SproutCore idiom
to make an array:</p>
<pre class="highlighted"><div class="code_container"><code class="hljs undefined"><span class='comment'><div class='filename'>apps/TodosOne/resources/main_page.js</div></span>
TodosOne.mainPage = SC.Page.design({

  mainPane: SC.MainPane.design({
    childViews: 'labelView labelView2'.w(),

    labelView: SC.LabelView.design({
      layout: { centerX: 0, centerY: 0, width: 200, height: 18 },
      textAlign: SC.ALIGN_CENTER,
      tagName: "h1",
      value: "Welcome to SproutCore!"
    }),

    labelView2: SC.LabelView.design({
      layout: { centerX: 0, centerY: 15, width: 200, height: 18 },
      textAlign: SC.ALIGN_CENTER,
      tagName: "h1",
      value: "Now we're rolling!"
    })
  })

});</code></div></pre>
<div class='info'><p>Throughout the Getting Started guides we have minimized in-code comments for brevity.

</p></div>

<p>Note the use of the <em>.design()</em> method here. <em>.design()</em> is often confused with <em>.extend()</em>.
This confusion is caused by a SproutCore &quot;wart.&quot; <em>.design()</em> exists so that views will work
with a graphical designer tool for SproutCore (like Interface Builder for Mac OS X) that has
been in development for a long time, but remains unfinished, with development long ago stalled.
A designer tool might be created in the future, but regardless, there is a logic you can follow,
wherein you use <em>.design()</em> when you are <strong>using</strong> a view, and <em>.extend()</em> where you
are <strong>defining</strong> it. Here we are using <em>.design()</em>, but rest assured that SC.LabelView uses
extend where it is defined in the SproutCore codebase.</p>
<div class='note'><p> When you make your own views, remember to use _.extend()_ when you are making the view
in the first place, and _.design()_ elsewhere, where you use it.

</p></div>

<p>If you load up <a href="http://localhost:4020/TodosOne/">http://localhost:4020/TodosOne/</a> in your browser, you should see both labels now; the second one right below the first.</p>
<h4 id='-Separating-Views-'>3.1 -  Separating Views
</h4>


<p>Before we get into using views with statecharts, let&#39;s first arrange view files for TodosOne.
Technically, you can put all view code in <em>main_page.js</em>, but that will get impractical
very fast. Instead you can separate each view into it&#39;s own file. This is accomplished by
using the special <em>sc</em>require()_ functionality. Modify the mainPane of the mainPage view to
have two sc_require() statements at the top, to declare two views as dependencies, and to change
the childViews of the pane to use these views:</p>
<pre class="highlighted"><div class="code_container"><code class="hljs undefined"><span class='comment'><div class='filename'>apps/TodosOne/resources/main_page.js</div></span>
sc_require('views/welcome');
sc_require('views/rolling');

TodosOne.mainPage = SC.Page.design({

  mainPane: SC.MainPane.design({
    childViews: 'welcomeView rollingView'.w(),

    welcomeView: TodosOne.WelcomeView.design(),
    rollingView: TodosOne.RollingView.design()
  })

});</code></div></pre>
<p><em>sc</em>require()_ functionality:</p>
<ol>
<li>The file path used in <em>sc</em>require()_ is relative to the application&#39;s root directory.</li>
<li>The reference in <em>sc</em>require()_ has the filename without the .js extension.</li>
<li>The load order for javascript files will be alphabetical, unless otherwise controlled with sc_require().  Sometimes you
get lucky on the default file loading order, if you omit a sc_require() statement. Sometimes you don&#39;t, and
you will get a dependency error.</li>
</ol>
<p>Now create the view files for our new WelcomeView and RollingView.
Make sure the files have the following content and are located in the views
directory:</p>
<pre class="highlighted"><div class="code_container"><code class="hljs undefined"><span class='comment'><div class='filename'>apps/TodosOne/views/welcome.js</div></span>
TodosOne.WelcomeView = SC.LabelView.extend({
  layout: { centerX: 0, centerY: 0, width: 200, height: 18 },
  textAlign: SC.ALIGN_CENTER,
  tagName: "h1",
  value: "Welcome to SproutCore!"
});</code></div></pre>
<pre class="highlighted"><div class="code_container"><code class="hljs undefined"><span class='comment'><div class='filename'>apps/TodosOne/views/rolling.js</div></span>
TodosOne.RollingView = SC.LabelView.extend({
  layout: { centerX: 0, centerY: 15, width: 200, height: 18 },
  textAlign: SC.ALIGN_CENTER,
  tagName: "h1",
  value: "Now we're rolling!"
});</code></div></pre>
<p>If you refresh the page, everything should look exactly as it did before,
but now your code is cleaner and more manageable.</p>
<h4 id='-Handling-Events-and-Statechart-Actions-'>3.2 -  Handling Events and Statechart Actions
</h4>


<p>Standard events for a web application include the ubiquitous mouseDown, and many others. Here we add
an event to watch for mouseDown in our TodosOne.RollingView, associating it with a statechart action:</p>
<pre class="highlighted"><div class="code_container"><code class="hljs undefined"><span class='comment'><div class='filename'>apps/TodosOne/views/rolling.js</div></span>
TodosOne.RollingView = SC.LabelView.design({
  layout: { centerX: 0, centerY: 15, width: 200, height: 18 },
  textAlign: SC.ALIGN_CENTER,
  tagName: "h1",
  value: "Now we're rolling!",

  mouseDown: function(evt) {
    var someParam = "Woot!";

    TodosOne.statechart.sendAction('proveIt', someParam);
  }
});</code></div></pre>
<p>We set a <em>proveIt</em> action to happen on the mouseDown event, using the statechart.sendAction() function. We must
handle the action in the appropriate state in the statechart.</p>
<p>The statechart has a property for the <em>current state</em>. When the statechart recieves an
action event, it will first ask the current state to handle it. If the current state cannot handle
it, the statechart will ask the current state&#39;s parent state to handle the event. Attempts
continue in this manner, bubbling up until either an ancestor state is found that can handle
the event, or it will log a warning for the developer.  You can see warnings, as well as other
informational messages (such as for state transitions), by turning on tracing on the statechart.</p>
<p>Do that now:</p>
<pre class="highlighted"><div class="code_container"><code class="hljs undefined"><span class='comment'><div class='filename'>apps/TodosOne/statechart.js</div></span>
TodosOne.statechart = SC.Statechart.create({

  trace: YES,   // &lt;-- Add this line

  initialState: 'readyState',

  readyState: SC.State.plugin('TodosOne.ReadyState')

});</code></div></pre>
<p>Let&#39;s make our TodosOne.ReadyState handle the <em>proveIt</em> action that was defined on
the mouseDown event in TodosOne.RollingView above:</p>
<pre class="highlighted"><div class="code_container"><code class="hljs undefined"><span class='comment'><div class='filename'>apps/TodosOne/states/ready_state.js</div></span>
TodosOne.ReadyState = SC.State.extend({

  enterState: function() {
    TodosOne.getPath('mainPage.mainPane').append();
  },

  exitState: function() {
    TodosOne.getPath('mainPage.mainPane').remove();
  },

  // Prove that we are rolling!
  proveIt: function(someParam) {
    alert(someParam);
  }

});</code></div></pre>
<p>proveIt() is a function. It is an action in the ReadyState state.</p>
<p>Save your files and refresh the page. When you click on the &quot;Now we&#39;re rolling!&quot;
label, you should see an alert. If you look at the console output, you can also
see the tracing reports, with the event being handled by the statechart, as well
as the initialization and the transition to the readyState.</p>
<h3 id='-Moving-Forward-'>4 -  Moving Forward
</h3>


<p>You are now ready to move on to creating a full-scale SproutCore app!</p>
<p><a href="/getting_started_3.html">Part 3</a> will introduce you to a more complete Todos application,
called TodosThree, and walk you through the process of building it from scratch.
You will learn about models, controllers and how they tie in with the statechart
and views.</p>
<p>Dive in to <a href="/getting_started_3.html">Getting Started: Part 3</a>.</p>
<h3 id='-Changelog-'>5 -  Changelog
</h3>


<ul>
<li>May 5, 2011: initial version by <a href="credits.html#drogus">Piotr Sarnacki</a></li>
<li>May 9, 2011: Stylistic edits by <a href="credits.html#tomdale">Tom Dale</a></li>
<li>March 6, 2012: rewrite for SproutCore 1.8 by the 1.8 release sprint team, including the following who
did much work on this task: <a href="credits.html#tce">Tim Evans</a>, <a href="credits.html#topherfangio">Topher Fangio</a>,
<a href="credits.html#geojeff">Jeff Pittman</a></li>
<li>July 30, 2013: converted to Markdown format for DocPad guides by <a href="credits.html#erictheise">Eric Theise</a></li>
<li>July 30, 2013: fix issues with formatting and updated Changelog by <a href="credits.html#topherfangio">Topher Fangio</a></li>
<li>Jan 17, 2019: Updated the guide as the default application already uses the state chart by <a href="credits.html#mauritslamers">Maurits Lamers</a></li>
</ul>

        </div>
        <!-- TODO: re-add index_items //-->
        <div id="subCol">
          <h3 class="chapter"><img src="images/graphics/chapters.png" alt="">Chapters</h3>
          <ol class='chapters'>
            
              <li>
                <a href='#-Why-Statecharts--'><p> Why Statecharts?
</p></a>
                <ul>
                  
                </ul>
              </li>
            
              <li>
                <a href='#-What-is-a-Statechart--'><p> What is a Statechart?
</p></a>
                <ul>
                  
                    <li><a href='#-Decoding-the-Statechart-'><p> Decoding the Statechart
</p></a></li>
                  
                    <li><a href='#-How-Statecharts-Help-'><p> How Statecharts Help
</p></a></li>
                  
                </ul>
              </li>
            
              <li>
                <a href='#-Where-Views-Fit-In-'><p> Where Views Fit In
</p></a>
                <ul>
                  
                    <li><a href='#-Separating-Views-'><p> Separating Views
</p></a></li>
                  
                    <li><a href='#-Handling-Events-and-Statechart-Actions-'><p> Handling Events and Statechart Actions
</p></a></li>
                  
                </ul>
              </li>
            
              <li>
                <a href='#-Moving-Forward-'><p> Moving Forward
</p></a>
                <ul>
                  
                </ul>
              </li>
            
              <li>
                <a href='#-Changelog-'><p> Changelog
</p></a>
                <ul>
                  
                </ul>
              </li>
            
          </ol>
        </div>
      </div>
    </div>

    <hr class="hide" />

	  <footer>
	    <div class="container">
	      <div class="col">
	        <a href="index.html"><img src="images/footer/sc_logo_medium.png" alt="SproutCore" /></a>
	        <p id="license">
	          SproutCore framework is under MIT License.
	        </p>
	      </div>
	      <nav class="col">
	        <h1>Site Navigation</h1>
	        <ul>
	          <li><a href="http://www.sproutcore.com/about/">About</a></li>
	          <li><a href="http://docs.sproutcore.com">Docs</a></li>
	          <li><a href="http://blog.sproutcore.com">Blog</a></li>
	          <li><a href="http://www.sproutcore.com/install/?redirect=1">Download</a></li>
	          <li><a href="http://www.sproutcore.com/community/">Community</a></li>
	          <li><a href="https://github.com/sproutcore/sproutcore">GitHub</a></li>
	          <li><a href="mailto:community@sproutcore.com">Contact Us</a></li>
	          <li><a href="http://guides.sproutcore.com">Guides</a></li>
	        </ul>
	        <a href="http://www.w3.org/html/logo/"><img src="images/footer/html5_tech.png" alt="HTML5 Powered" /></a>
	      </nav>
	      <div class="col">
	        <h1>Get in Touch, Stay Informed</h1>
	        <ul class="social">
	          <li><a href="http://twitter.com/sproutcore"><img src="images/footer/twitter.png" alt="Twitter" /></a></li>
	          <li><a href="http://www.facebook.com/sproutcore"><img src="images/footer/facebook.png" alt="Facebook" /></a></li>
	          <li><a href="http://groups.google.com/group/sproutcore"><img src="images/footer/google.png" alt="Google Groups" /></a></li>
						<li><a href="http://groups.google.com/group/sproutcore">Subscribe To Mailing List</a></li>
	        </ul>
					<a href="http://eepurl.com/dK1-Y" target="_blank" id="newsletter" class="button secondary">Sign Up For Our Newsletter!</a>
	<!-- Commented out until we have mailchimp API integration.
					<h2>Subscribe To Newsletter</h2>
	        <div id="subscribe">
	          <form>
	            <input type="text" name="email" />
	            <button name="subscribe">Sign-Up</button>
	            <div class="processing"><img src="/img/spinner.gif"></div>
	            <div class="error"></div>
	          </form>
	        </div>
	-->
	      </div>
	      <a href="#feature" class="top">Back To Top</a>
	    </div>
	  </footer>

    <script type='text/javascript' src='/javascripts/jquery.min.js'></script>

    

    <script type='text/javascript'>
      /*
       * Make the guides link clickable
       */
      function guideMenu(e){
        if (document.getElementById('guides').style.display == "none") {
          document.getElementById('guides').style.display = "block";
          document.getElementById('guidesArrow').innerHTML = "&#9662;";
          $('body').click(function(e){ guideMenu(e); });
        } else {
          document.getElementById('guides').style.display = "none";
          document.getElementById('guidesArrow').innerHTML = "&#9656;";
          $('body').unbind('click');
        }
        return false;
      }

      $('#guidesMenu, .guidesMenu').click(guideMenu);
    </script>

  </body>
</html>
