<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title></title>

    <!-- plugin styles -->
    <link rel="stylesheet" type="text/css" href="stylesheets/highlight-github.css" />

    <!-- guides styles -->
    <link rel="stylesheet" type="text/css" href="stylesheets/reset.css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/main.css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <link rel="stylesheet" type="text/css" href="stylesheets/guides.css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/overrides.style.css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/overrides.print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">

    <meta name="generator" content="DocPad v6.55.5" />
    
  </head>

  <body class="guide">

    <header role="banner">
      <div class="container">
        <h1 id="logo">
          <a href="http://www.sproutcore.com"><img src="images/header/logo.png" alt="SproutCore" /></a>
        </h1>
        <nav role="navigation">
          <ul>
            <li><a href="http://sproutcore.com/about/">About</a></li>
            <li><a href="http://showcase.sproutcore.com">Showcase</a></li>
            <li class="active"><a href="http://guides.sproutcore.com">Guides</a></li>
            <li><a href="http://docs.sproutcore.com">Docs</a></li>
            <li><a href="http://sproutcore.com/community/">Community</a></li>
            <li><a href="http://blog.sproutcore.com">Blog</a></li>
          </ul>
        </nav>
      </div>
    </header>

    <div id="feature">
      <div class="wrapper">
        <div class="feature_header">
          <a href="/"><img src="images/graphics/guides.png"></a>
          <h2><a href="/">SproutCore Guides</a></h2>
          <p>These guides are designed to help you write and perfect your code.</p>
        </div>
        <div class="feature_sidebar">
          <a href="index.html" id="guidesMenu">
            Guides Index <span id="guidesArrow">&#9656;</span>
          </a>
          <div id="guides" class="clearfix" style="display: none;">
            <a href="index.html" class="guidesMenu">
              Guides Index <span class="guidesArrow">&#9662;</span>
            </a>

            <hr style="clear:both;">

            <dl class='L'><dt>Start Here</dt>
<dd><a href='/getting_started.html'>Getting Started: Part 1</a></dd>
<dd><a href='/getting_started_2.html'>Getting Started: Part 2</a></dd>
<dd><a href='/getting_started_3.html'>Getting Started: Part 3</a></dd>
<dd><a href='/core_concepts_sc_object.html'>Classes and SC.Object</a></dd>
<dd><a href='/core_concepts_kvo.html'>Computed Properties, Observers and Bindings</a></dd><dt>Views</dt>
<dd><a href='/views.html'>Core View Concepts</a></dd><dt>Models</dt>
<dd><a href='/records.html'>SproutCore Records</a></dd>
<dd><a href='/fixtures.html'>Using Fixtures</a></dd><dt>Theming</dt>
<dd><a href='/theming_app.html'>Theming Your App</a></dd>
<dd><a href='/chance.html'>Using Chance, SproutCore's CSS Framework</a></dd></dl><dl class='R'><dt>Testing</dt>
<dd><a href='/unit_test_framework.html'>Unit Testing</a></dd>
<dd><a href='/adding_unit_test.html'>Adding a Unit Test</a></dd>
<dd><a href='/writing_unit_tests.html'>Writing Unit Tests</a></dd>
<dd><a href='/running_unit_tests.html'>Running Unit Tests</a></dd>
<dd><a href='/todos_tdd.html'>SproutCore Development Using TDD</a></dd><dt>Extras</dt>
<dd><a href='/build_tools.html'>SproutCore's Build Tools</a></dd>
<dd><a href='/run_loop.html'>The Run Loop</a></dd>
<dd><a href='/enumerables.html'>Enumerables</a></dd><dt>Contributing to SproutCore</dt>
<dd><a href='/style_guide.html'>Javascript Guidelines</a></dd>
<dd><a href='/commit_code.html'>Committer Guidelines</a></dd>
<dd><a href='/documentation_guidelines.html'>Documentation Guidelines</a></dd>
<dd><a href='/contribute.html'>Contributing Guides</a></dd><dt>Thanks</dt>
<dd><a href='/credits.html'>Credits</a></dd></dl>
          </div>
        </div>
      </div>
    </div>

    <div id="container">
      <div class="wrapper">
        <div id="mainCol">
          <div class='headerSection'>
            
              <h2>Core View Concepts</h2>
            

            
              <p>The guide covers some of the core concepts of views in SproutCore. By referring to this guide, you will be able to:</p>
            

            
              <ul>
                
                  <li>Layout your views relative to their parent.</li>
                
                  <li>Make your views dynamic with bindings.</li>
                
                  <li>Change how your views render and update themselves.</li>
                
                  <li>Handle events that occur over your view like a mouse click.</li>
                
              </ul>
            
          </div>

          <h3 id='-Introduction-'>1 -  Introduction
</h3>


<p>After you&#39;ve created your first SproutCore project, you&#39;ll notice the
file <tt>main_page.js</tt> in your resources folder. This is the main page that your app
appends to the DOM in your <tt>main</tt> function. Let&#39;s start by looking at what
every SproutCore project starts with as its main page:</p>
<div class='info'><p> The file <tt>main_page.js</tt> is included into the application&#39;s resources
folder when using <code>sc-init</code> without the <code>--template</code>
param.

</p></div>



<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/resources/main_page.js</div></span>
AddressBook.mainPage = SC.Page.design({
  mainPane: SC.MainPane.exend({
    childViews: <span class="string">'labelView'</span>.w(),
    labelView: SC.LabelView.exend({
      layout: { centerX: <span class="number">0</span>, centerY: <span class="number">0</span>, width: <span class="number">200</span>, height: <span class="number">18</span> },
      textAlign: SC.ALIGN_CENTER,
      tagName: <span class="string">"h1"</span>, 
      value: <span class="string">"Welcome to SproutCore!"</span>
    })
  })
});</code></div></pre>
<div class='note'><p> <tt>SC.Page</tt> uses <tt>.design()</tt> because it is more akin to <tt>.create()</tt> and you
are actually intantiating the page object. All other views should use <tt>.extend()</tt>
since view instantiation is handled by the page or the view&#39;s parent view.

</p></div>

<p>To understand what all of this means, we&#39;ll have to look at and understand what
this boilerplate code does. <tt>AddressBook.mainPage</tt> is our main application
page. Your application may end up having several &quot;pages&quot; or you may choose to
swap content into and out of a single page. <tt>AddressBook.mainPage</tt> is
an <tt>SC.Page</tt> which works by lazily configuring itself. The views within a page are
only awakened when you <tt>get</tt> the page in the <tt>main.js</tt> file:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/main.js</div></span>
AddressBook.getPath(<span class="string">'mainPage.mainPane'</span>).append();</code></div></pre>
<p> <tt>AddressBook.mainPage.mainPane</tt> is an <tt>SC.MainPane</tt> which is itself an
 <tt>SC.Pane</tt>.  There will probably be many panes in your app because a pane is
just like a regular view except that it doesn&#39;t need to live within a parent
view. These can be anything from a palette to a popup to a menu. In this case,
our pane is an <tt>SC.MainPane</tt> which automatically makes itself the main pane as
soon as it&#39;s appended to the doument.</p>
<p>Our main pane is configured with only one <tt>childView</tt>, an <tt>SC.LabelView</tt>.
SproutCore uses absolute positioning to lay out its views, and this label view
is no different. Giving it a width and height allows us to place the label
directly in the center of the page using <tt>centerX</tt> and <tt>centerY</tt>. These
attributes specify how many pixels offset from the center we&#39;d like the view.</p>
<div class='note'><p> The <tt>w</tt> function splits a string by spaces and turns it into an array.
We could have accomplished the same thing by using <tt>childViews:[&#39;labelView&#39;]</tt>.

</p></div>



<h3 id='-Laying-Out-Views-on-the-Page-'>2 -  Laying Out Views on the Page
</h3>


<p>Let&#39;s say we wanted to make an address book. This address book would have a
list of all your contacts that you could scroll through and see contact details
such as phone numbers and addresses. Let&#39;s start the address book by starting
an <tt>SC.WorkspaceView</tt> which allows us to have a toolbar on the top and bottom
and a view between those two toolbars:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/resources/main_page.js</div></span>
AddressBook.mainPage = SC.Page.design({
  mainPane: SC.MainPane.extend({
    childViews: <span class="string">'workspaceView'</span>.w(),
    workspaceView: SC.WorkspaceView.extend({
      contentView: SC.View
    })
  })
});</code></div></pre>
<p>We now have a nice toolbar on the top of the page, but we still don&#39;t have a
list of any contacts. If we want a list on the left and details on the right,
it sounds like <tt>SC.SplitView</tt> is the perfect view to do that, so let&#39;s make
that our <tt>contentView</tt>:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/resources/main_page.js</div></span>
workspaceView: SC.WorkspaceView.extend({
  contentView: SC.SplitView.extend({
    dividerThickness: <span class="number">1</span>,
    defaultThickness: <span class="number">300</span>,
    topLeftView: SC.View,
    bottomRightView: SC.View
  })
})</code></div></pre>
<p>Our UI is starting to come together. We can see where we&#39;re going to have our
contacts listed and where their details will be displayed. The
 <tt>dividerThickness</tt> is just a aesthetic property since the default
 <tt>defaultThickness</tt> will make our fixed view--in this case the
 <tt>topLeftView</tt>--300 pixels wide.</p>
<div class='note'><p> When you use values less than 1 for dimensions in SproutCore they&#39;re
interpreted as percentages. E.g. <tt>width: 0.5</tt> tells SproutCore that you want it
to be 50% wide.

</p></div>

<p>We&#39;re going to need to list our contacts, so let&#39;s do that to the left, with
our details view to the right. For this, we could use <tt>SC.ListView</tt> which is
used for generic lists of stacked information where you know each list item&#39;s
height. Fortunately, SproutCore includes <tt>SC.SourceListView</tt> which not only
looks great out of the box, but also provides the default behaviors of a source
list:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/resources/main_page.js</div></span>
topLeftView: SC.SourceListView.extend({
  content: [<span class="string">"Elizabeth Jones"</span>, <span class="string">"Arnold Washington"</span>, <span class="string">"Pete Matthews"</span>]
})</code></div></pre>
<p>We can then move on to the details of a contact, such as his name, phone phone
number, and address. We can use <tt>SC.LabelView</tt> for all three in our
 <tt>bottomRightView</tt>:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/resources/main_page.js</div></span>
bottomRightView: SC.View.extend({
  childViews: <span class="string">'contactDetails'</span>.w(),

  contactDetails: SC.View.extend({
    layout: { top: <span class="number">50</span>, left: <span class="number">50</span>, bottom: <span class="number">50</span>, right: <span class="number">50</span> },
    childViews: <span class="string">'nameLabel phoneLabel addressLabel'</span>.w(),

    nameLabel: SC.LabelView.extend({
      layout: { width: <span class="number">500</span>, height: <span class="number">18</span> },
      value: <span class="string">"Contact name"</span>
    }),

    phoneLabel: SC.LabelView.extend({
      layout: { top: <span class="number">40</span>, width: <span class="number">500</span>, height: <span class="number">18</span> },
      value: <span class="string">"Contact phone number"</span>
    }),

    addressLabel: SC.LabelView.extend({
      layout: { top: <span class="number">80</span>, width: <span class="number">500</span>, height: <span class="number">500</span> },
      value: <span class="string">"Contact address"</span>
    })
  })
})</code></div></pre>
<p>The labels are wrapped in <tt>contactDetails</tt> so they can be cushioned from the
edges of the parent view to see them better. <tt>phoneLabel</tt> and <tt>addressLabel</tt>
are given a <tt>top</tt> to clear each other so they don&#39;t overlap, and <tt>addressLabel</tt>
is given a large <tt>height</tt> so a long address can wrap within the label. Right
now these LabelViews are only placeholders until we hook their values to a
binding.</p>
<h3 id='-Binding-Views-to-Controllers-'>3 -  Binding Views to Controllers
</h3>


<p>Instead of having our source list content and our label values in our views,
let&#39;s bind them to some controllers. We&#39;ll start by creating an
 <tt>SC.ArrayController</tt> for our list of contacts:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/controllers/contacts.js</div></span>
AddressBook.contactsController = SC.ArrayController.create({
  allowsMultipleSelection: NO,
  content: [
    SC.Object.create({
      name: <span class="string">"Elizabeth Jones"</span>,
      phone: <span class="string">"(555) 391-1419"</span>,
      address: <span class="string">"145 Wandering Way, Austin, TX 78701"</span>,
      website: <span class="string">'http://www.elizabethjonesproductions.com'</span>
    }),

    SC.Object.create({
      name: <span class="string">"Arnold Washington"</span>,
      phone: <span class="string">"(453) 749-1585"</span>,
      address: <span class="string">"378 North 16th St., Ann Arbor, MI 79883"</span>,
      website: <span class="string">'http://www.arnoldwashingtonmedia.com'</span>
    }),

    SC.Object.create({
      name: <span class="string">"Pete Matthews"</span>,
      phone: <span class="string">"(343) 856-3750"</span>,
      address: <span class="string">"935 2nd St., Phoenix, AZ 87435"</span>,
      website: <span class="string">'http://www.petematthewsfurniture.com'</span>
    })
  ]
});</code></div></pre>
<p>Because we are only going to be working with one object at a time,
 <tt>allowsMultipleSelection: NO</tt> will restrict the ability to select only one
item.</p>
<p>And then an <tt>SC.ObjectController</tt> that proxies individual contact objects:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/controllers/contact.js</div></span>
AddressBook.contactController = SC.ObjectController.create({
  contentBinding: <span class="string">'AddressBook.contactsController.selection'</span>
});</code></div></pre>
<div class='note'><p> An object controller will automatically detect if you have a single
selection and will automatically set it&#39;s content to the only item in the
selection set. If you are in the rare case of needing to force a single
selection, you can use <tt>SC.Binding.single(&#39;AddressBook.contactsController.selection&#39;)</tt>.

</p></div>

<p>Now we can bind our source list to the <tt>SC.ArrayController</tt> to get a dynamic
list of contacts and individual contact selection support:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/resources/main_page.js</div></span>
topLeftView: SC.SourceListView.extend({
  contentValueKey: <span class="string">'name'</span>,
  contentBinding: <span class="string">'AddressBook.contactsController.arrangedObjects'</span>,
  selectionBinding: <span class="string">'AddressBook.contactsController.selection'</span>
})</code></div></pre>
<p>With the contacts selectable, the only thing missing is dynamic label values
for the contact&#39;s name, phone, and address:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/resources/main_page.js</div></span>
bottomRightView: SC.View.extend({
  layout: { top: <span class="number">50</span>, left: <span class="number">50</span>, bottom: <span class="number">50</span>, right: <span class="number">20</span> },
  childViews: <span class="string">'nameLabel phoneLabel addressLabel'</span>.w(),

  nameLabel: SC.LabelView.extend({
    layout: { width: <span class="number">500</span>, height: <span class="number">18</span> },
    valueBinding: SC.Binding.oneWay(<span class="string">'AddressBook.contactController.name'</span>)
  }),

  phoneLabel: SC.LabelView.extend({
    layout: { top: <span class="number">40</span>, width: <span class="number">500</span>, height: <span class="number">18</span> },
    valueBinding: SC.Binding.oneWay(<span class="string">'AddressBook.contactController.phone'</span>)
  }),

  addressLabel: SC.LabelView.extend({
    layout: { top: <span class="number">80</span>, width: <span class="number">500</span>, height: <span class="number">500</span> },
    valueBinding: SC.Binding.oneWay(<span class="string">'AddressBook.contactController.address'</span>)
  })
})</code></div></pre>
<div class='note'><p> Using <tt>SC.Binding.oneWay</tt> is not necessary here, but using one way
bindings when you don&#39;t need changes from the view reflected back to the
controller--which is the case for these label views--gives better performance.

</p></div>

<p>The contact information will now change automatically whenever a new contact is
selected.</p>
<h3 id='-Custom-View-Styling-and-Rendering-'>4 -  Custom View Styling and Rendering
</h3>


<p>SproutCore provides three ways to customize how your view looks. You can simply
give it a class name and add it to the view&#39;s <tt>classNames</tt> array property to
style it using CSS, override its <tt>render</tt> method to use its own custom HTML, or
use an <tt>SC.RenderDelegate</tt> to render and update all views of the view type.</p>
<h4 id='-Using-CSS-to-Style-a-View-'>4.1 -  Using CSS to Style a View
</h4>


<p>Let&#39;s make the interface a bit more visually appealing and user friendly by
giving a usage hint when no contact has been selected yet. We can create a
generic view and add the class name <tt>app-usage-hint</tt> to the <tt>classNames</tt> array,
and then a label view as a child to display the hint. Our <tt>bottomRightView</tt>
should now look like this:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/resources/main_page.js</div></span>
bottomRightView: SC.View.extend({
  childViews: <span class="string">'usageHint contactDetails'</span>.w(),

  usageHint: SC.View.extend({
    classNames: <span class="string">'app-usage-hint'</span>,
    isVisibleBinding: SC.Binding.not(<span class="string">'AddressBook.contactsController.hasSelection'</span>),

    childViews: [SC.LabelView.extend({
      layout: { width: <span class="number">300</span>, height: <span class="number">22</span>, centerX: <span class="number">0</span>, centerY: <span class="number">0</span> },
      tagName: <span class="string">'h1'</span>,
      textAlign: SC.ALIGN_CENTER,
      value: <span class="string">"Select a contact"</span>
    })]
  }),

  contactDetails: SC.View.extend({
    layout: { top: <span class="number">50</span>, left: <span class="number">50</span>, bottom: <span class="number">50</span>, right: <span class="number">20</span> },

    childViews: <span class="string">'nameLabel phoneLabel addressLabel'</span>.w(),

    nameLabel: SC.LabelView.extend({
      layout: { width: <span class="number">500</span>, height: <span class="number">18</span> },
      valueBinding: <span class="string">'AddressBook.contactController.name'</span>
    }),

    phoneLabel: SC.LabelView.extend({
      layout: { top: <span class="number">40</span>, width: <span class="number">500</span>, height: <span class="number">18</span> },
      valueBinding: <span class="string">'AddressBook.contactController.phone'</span>
    }),

    addressLabel: SC.LabelView.extend({
      layout: { top: <span class="number">80</span>, width: <span class="number">500</span>, height: <span class="number">500</span> },
      valueBinding: <span class="string">'AddressBook.contactController.address'</span>
    })
  })
})</code></div></pre>
<p>Right now it looks rather small, so let&#39;s add some style to it. Create a file
in the <tt>resources</tt> directory and name it <tt>theme.css</tt>:</p>
<pre class="highlighted"><div class="code_container"><code class="undefined"><span class='comment'><div class='filename'>apps/addressbook/resources/theme.css</div></span>
.app-usage-hint {
  background-color: #eee;
}

.app-usage-hint h1 {
  font-family: "Helvetica Neue Light", "HelveticaNeue-Light", inherit;
  font-size: 28px !important;
  line-height: 20px !important;
  color: #999;
}</code></div></pre>
<p>Now we have nice looking instructions for when a user first starts using the
app. You can add as many class names to <tt>classNames</tt> as you want for any view.</p>
<h4 id='-The-render-and-update-Methods-'>4.2 -  The render and update Methods
</h4>


<p>The <tt>render</tt> method is used to generate the view&#39;s HTML and is called whenever
the view first renders itself. Any subsequent updates to the view can be
handled by an <tt>update</tt> method.</p>
<div class='note'><p> As soon as you start overriding methods such as <tt>render</tt> and <tt>update</tt>,
your views really need to be in their own files under the <tt>views</tt> directory.  A
good rule of thumb is that <tt>main_page.js</tt> should never have anything longer
than a one line function.

</p></div>

<p>The <tt>update</tt> method is called whenever a property that is defined on the view&#39;s
 <tt>displayProperties</tt> array is changed on the view. The <tt>render</tt> method is passed
a <tt>context</tt> variable which is an <tt>SC.RenderContext</tt>. <tt>SC.RenderContext</tt> is used
to queue up and build HTML for a view. You build HTML by calling
 <tt>context.push()</tt> and passing it HTML:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/views/person.js</div></span>
AddressBook.PersonView = SC.View.extend({
  render: <span class="function"><span class="keyword">function</span> <span class="params">(context)</span> {</span>
    context.push(<span class="string">"&lt;h1&gt;Arnold Washington is 31 years young...&lt;/h1&gt;"</span>);
  }
});</code></div></pre>
<p>You can also use <tt>context.begin()</tt> and <tt>context.end()</tt> to begin building a tag
and push arguments that are &quot;stringable&quot; (have a <tt>toString</tt> method) into it:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/views/person.js</div></span>
AddressBook.PersonView = SC.View.extend({
  displayProperties: [<span class="string">'name'</span>, <span class="string">'age'</span>],
  name: <span class="string">'Arnold Washington'</span>,
  age: <span class="number">31</span>,
  render: <span class="function"><span class="keyword">function</span> <span class="params">(context)</span> {</span>
    <span class="keyword">var</span> name = <span class="keyword">this</span>.get(<span class="string">'name'</span>), age = <span class="keyword">this</span>.get(<span class="string">'age'</span>);
    <span class="keyword">var</span> context = context.begin(<span class="string">'h1'</span>);
    context.push(name, <span class="string">' is going to be '</span>, age+<span class="number">1</span>, <span class="string">' years young soon...'</span>);
    context.end();
  }
});</code></div></pre>
<p>The <tt>update</tt> method is passed a jQuery handle of the view&#39;s layer, the DOM
element that belongs to the view. You can use it and all of jQuery&#39;s API to
manipulate the DOM and update your view:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/views/person.js</div></span>
AddressBook.PersonView = SC.View.extend({
  displayProperties: [<span class="string">'name'</span>, <span class="string">'age'</span>],
  name: <span class="string">'Arnold Washington'</span>,
  age: <span class="number">31</span>,
  render: <span class="function"><span class="keyword">function</span> <span class="params">(context)</span> {</span>
    <span class="keyword">var</span> name = <span class="keyword">this</span>.get(<span class="string">'name'</span>), age = <span class="keyword">this</span>.get(<span class="string">'age'</span>);
    <span class="keyword">var</span> context = context.begin(<span class="string">'h1'</span>);
    context.push(<span class="string">'&lt;span class="name"&gt;'</span>, name, <span class="string">'&lt;/span&gt;'</span>);
    context.push(<span class="string">' is going to be '</span>);
    context.push(<span class="string">'&lt;span class="age"&gt;'</span>, age+<span class="number">1</span>, <span class="string">'&lt;/span&gt;'</span>);
    context.push(<span class="string">' years young soon...'</span>);
    context.end();
  },
  update: <span class="function"><span class="keyword">function</span> <span class="params">(jquery)</span> {</span>
    <span class="keyword">var</span> h1 = jquery.find(<span class="string">'h1'</span>);
    #find(<span class="string">'.name'</span>).text(<span class="keyword">this</span>.get(<span class="string">'name'</span>));
    #find(<span class="string">'.age'</span>).text(<span class="keyword">this</span>.get(<span class="string">'age'</span>));
  }
})</code></div></pre>
<p>Say we wanted to make the name of the contact bigger in the details. To do
this, let&#39;s create a custom view called <tt>AddressBook.ContactNameView</tt> that will
put the contact name in an <tt>h1</tt> tag:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/views/contact_name.js</div></span>
AddressBook.ContactNameView = SC.View.extend({
  displayProperties: [<span class="string">'value'</span>],
  render: <span class="function"><span class="keyword">function</span> <span class="params">(context)</span> {</span>
    context.push(<span class="string">'&lt;h1&gt;'</span>, <span class="keyword">this</span>.get(<span class="string">'value'</span>), <span class="string">'&lt;/h1&gt;'</span>);
  },
  update: <span class="function"><span class="keyword">function</span> <span class="params">(jquery)</span> {</span>
    jquery.find(<span class="string">'h1'</span>).text(<span class="keyword">this</span>.get(<span class="string">'value'</span>));
  }
});</code></div></pre>
<h4 id='-Render-Delegates-'>4.3 -  Render Delegates
</h4>


<p>Render delegates are an way to manage theming your apps. You can create a
render delegate to manage the rendering of your views for you and add it to the
theme you&#39;re using. Render delegates also have a <tt>render</tt> and <tt>update</tt> method,
but their first argument is the <tt>dataSource</tt>, or the view delegating to them.
Let&#39;s recreate the last scenario using an <tt>SC.RenderDelegate</tt> that we&#39;re going
to create in <tt>render_delegates/contact_name.js</tt>:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/render_delegates/contact_name.js</div></span>
AddressBook.MyTheme.contactNameRenderDelegate = SC.RenderDelegate.create({
  render: <span class="function"><span class="keyword">function</span> <span class="params">(dataSource, context)</span> {</span>
    context.push(<span class="string">'&lt;h1&gt;'</span>, dataSource.get(<span class="string">'value'</span>), <span class="string">'&lt;/h1&gt;'</span>);
  },
  update: <span class="function"><span class="keyword">function</span> <span class="params">(dataSource, jquery)</span> {</span>
    jquery.find(<span class="string">'h1'</span>).text(dataSource.get(<span class="string">'value'</span>));
  }
});</code></div></pre>
<p>Now we have to tell our view to use our new render delegate to draw itself:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/views/contact_name.js</div></span>
AddressBook.ContactNameView = SC.View.extend({
  displayProperties: [<span class="string">'value'</span>],
  renderDelegateName: <span class="string">'contactNameRenderDelegate'</span>
});</code></div></pre>
<div class='info'><p> For a more detailed overview of theming see <a href="theming_app.html">Theming Your App</a>

</p></div>



<h3 id='-View-Events-'>5 -  View Events
</h3>


<p>Events bubble up to parent views in a SproutCore view hierarchy. <tt>SC.View</tt>
extends <tt>SC.Responder</tt>, inheriting the ability to react to DOM events such as
 <tt>mouseDown</tt> and <tt>mouseEntered</tt>. Let&#39;s highlight the contact name when it&#39;s
being hovered over and take the user to the contact&#39;s website if it&#39;s clicked:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/views/contact_name_view.js</div></span>
AddressBook.ContactNameView = SC.View.extend({
  displayProperties: [<span class="string">'value'</span>],
  renderDelegateName: <span class="string">'contactNameRenderDelegate'</span>,
  mouseEntered: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    <span class="keyword">var</span> jquery = <span class="keyword">this</span>.$();
    jquery.css(<span class="string">'cursor'</span>, <span class="string">'pointer'</span>);
    jquery.css(<span class="string">'color'</span>, <span class="string">'#356aa0'</span>);
    <span class="keyword">return</span> YES;
  },
  mouseExited: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
    <span class="keyword">var</span> jquery = <span class="keyword">this</span>.$();
    jquery.css(<span class="string">'cursor'</span>, <span class="string">'normal'</span>);
    jquery.css(<span class="string">'color'</span>, <span class="string">'#000'</span>);
    <span class="keyword">return</span> YES;
  },
  mouseDown: <span class="function"><span class="keyword">function</span> <span class="params">(evt)</span> {</span>
    AddressBook.openWebsite();
    <span class="keyword">return</span> YES;
  }
});</code></div></pre>
<p>And in <tt>core.js</tt>:</p>
<pre class="highlighted"><div class="code_container"><code class="javascript"><span class='comment'><div class='filename'>apps/addressbook/core.js</div></span>
openWebsite: <span class="function"><span class="keyword">function</span> <span class="params">()</span> {</span>
  <span class="keyword">var</span> website = AddressBook.contactController.get(<span class="string">'website'</span>);
  window.open(website);
}</code></div></pre>
<p>You should return <tt>YES</tt> when you&#39;ve handled the event, otherwise it would
propagate to all of it&#39;s parent views.</p>
<div class='warning'><p> Actions such as these would usually be handled by a statechart and are
handled here for the purposes of demonstration.

</p></div>



<h3 id='-Changelog-'>6 -  Changelog
</h3>


<ul>
<li>January 12, 2011: initial version by <a href="credits.html#devinus">Devin Torres</a></li>
<li>March 2, 2011: added filenames and small code example changes by <a href="credits.html#topherfangio">Topher Fangio</a></li>
<li>March 2, 2011: some corrections to section on render delegates by <a href="credits.html#wagenet">Peter Wagenet</a></li>
<li>March 4, 2011: corrected the title and added a few more filenames by <a href="credits.html#devinus">Devin Torres</a></li>
<li>February 22, 2012: sample code changes and a few edits by <a href="credits.html#geojeff">Jeff Pittman</a></li>
<li>October 23, 2013: converted to Markdown format for DocPad guides by <a href="credits.html#topherfangio">Topher Fangio</a></li>
</ul>

        </div>
        <!-- TODO: re-add index_items //-->
        <div id="subCol">
          <h3 class="chapter"><img src="images/graphics/chapters.png" alt="">Chapters</h3>
          <ol class='chapters'>
            
              <li>
                <a href='#-Introduction-'><p> Introduction
</p></a>
                <ul>
                  
                </ul>
              </li>
            
              <li>
                <a href='#-Laying-Out-Views-on-the-Page-'><p> Laying Out Views on the Page
</p></a>
                <ul>
                  
                </ul>
              </li>
            
              <li>
                <a href='#-Binding-Views-to-Controllers-'><p> Binding Views to Controllers
</p></a>
                <ul>
                  
                </ul>
              </li>
            
              <li>
                <a href='#-Custom-View-Styling-and-Rendering-'><p> Custom View Styling and Rendering
</p></a>
                <ul>
                  
                    <li><a href='#-Using-CSS-to-Style-a-View-'><p> Using CSS to Style a View
</p></a></li>
                  
                    <li><a href='#-The-render-and-update-Methods-'><p> The render and update Methods
</p></a></li>
                  
                    <li><a href='#-Render-Delegates-'><p> Render Delegates
</p></a></li>
                  
                </ul>
              </li>
            
              <li>
                <a href='#-View-Events-'><p> View Events
</p></a>
                <ul>
                  
                </ul>
              </li>
            
              <li>
                <a href='#-Changelog-'><p> Changelog
</p></a>
                <ul>
                  
                </ul>
              </li>
            
          </ol>
        </div>
      </div>
    </div>

    <hr class="hide" />

	  <footer>
	    <div class="container">
	      <div class="col">
	        <a href="index.html"><img src="images/footer/sc_logo_medium.png" alt="SproutCore" /></a>
	        <p id="license">
	          SproutCore framework is under MIT License.
	        </p>
	      </div>
	      <nav class="col">
	        <h1>Site Navigation</h1>
	        <ul>
	          <li><a href="http://www.sproutcore.com/about/">About</a></li>
	          <li><a href="http://docs.sproutcore.com">Docs</a></li>
	          <li><a href="http://blog.sproutcore.com">Blog</a></li>
	          <li><a href="http://www.sproutcore.com/install/?redirect=1">Download</a></li>
	          <li><a href="http://www.sproutcore.com/community/">Community</a></li>
	          <li><a href="https://github.com/sproutcore/sproutcore">GitHub</a></li>
	          <li><a href="mailto:community@sproutcore.com">Contact Us</a></li>
	          <li><a href="http://guides.sproutcore.com">Guides</a></li>
	        </ul>
	        <a href="http://www.w3.org/html/logo/"><img src="images/footer/html5_tech.png" alt="HTML5 Powered" /></a>
	      </nav>
	      <div class="col">
	        <h1>Get in Touch, Stay Informed</h1>
	        <ul class="social">
	          <li><a href="http://twitter.com/sproutcore"><img src="images/footer/twitter.png" alt="Twitter" /></a></li>
	          <li><a href="http://www.facebook.com/sproutcore"><img src="images/footer/facebook.png" alt="Facebook" /></a></li>
	          <li><a href="http://groups.google.com/group/sproutcore"><img src="images/footer/google.png" alt="Google Groups" /></a></li>
						<li><a href="http://groups.google.com/group/sproutcore">Subscribe To Mailing List</a></li>
	        </ul>
					<a href="http://eepurl.com/dK1-Y" target="_blank" id="newsletter" class="button secondary">Sign Up For Our Newsletter!</a>
	<!-- Commented out until we have mailchimp API integration.
					<h2>Subscribe To Newsletter</h2>
	        <div id="subscribe">
	          <form>
	            <input type="text" name="email" />
	            <button name="subscribe">Sign-Up</button>
	            <div class="processing"><img src="/img/spinner.gif"></div>
	            <div class="error"></div>
	          </form>
	        </div>
	-->
	      </div>
	      <a href="#feature" class="top">Back To Top</a>
	    </div>
	  </footer>

    <script type='text/javascript' src='/javascripts/jquery.min.js'></script>

    

    <script type='text/javascript'>
      /*
       * Make the guides link clickable
       */
      function guideMenu(e){
        if (document.getElementById('guides').style.display == "none") {
          document.getElementById('guides').style.display = "block";
          document.getElementById('guidesArrow').innerHTML = "&#9662;";
          $('body').click(function(e){ guideMenu(e); });
        } else {
          document.getElementById('guides').style.display = "none";
          document.getElementById('guidesArrow').innerHTML = "&#9656;";
          $('body').unbind('click');
        }
        return false;
      }

      $('#guidesMenu, .guidesMenu').click(guideMenu);
    </script>

  </body>
</html>
